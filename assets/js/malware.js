(function(jQuery) {
	jQuery(function() {

		// show details
		jQuery('a.scan-details').click(function(evt) {

			evt.preventDefault();
			jQuery( 'tr.details[data-id="' + jQuery(this).data("id") + '"]' ).slideToggle();
			
		});



		// remove scan
		jQuery('a.scan-remove').click(function(evt) {

			evt.preventDefault();
			var id = jQuery(this).data("id")

			jQuery.post(ajaxurl, {
				
				action:	'remove_scan',							
				id: jQuery(this).data("id"),	
				noonce: jQuery(this).data("noonce"),	
					
			}, function(response) {
							
					if( 'done' == response ) {
					
						jQuery( 'tr.details[data-id="' + id + '"]' ).slideUp("slow", function() { jQuery(this).remove(); } );
						jQuery( 'tr.scan[data-id="' + id + '"]' ).slideUp("slow", function() { jQuery(this).remove(); } );
						
					} else {
					
						alert(response);
						
					}
		
			});
			
		});
		
	});
})(jQuery);